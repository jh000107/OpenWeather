{
	"name": "ExternalTables",
	"properties": {
		"content": {
			"query": "-- CREATE EXTERNAL TABLE ExternalWeather ( --positionality matters for dedicated tables! Ensure its the correct order of datatypes and correct number\n--     clouds_all SMALLINT,\n--     feels_like_K FLOAT,\n--     humidity SMALLINT,\n--     pressure SMALLINT,\n--     temp_K FLOAT,\n--     temp_max_K FLOAT,\n--     temp_min_K FLOAT,\n--     rain_1h REAL,\n--     snow_1h REAL,\n--     wind_deg SMALLINT,\n--     wind_gust FLOAT,\n--     wind_speed FLOAT,\n--     corrected_timestamp INT,\n--     location NVARCHAR(100),\n--     date_time DATETIME,\n--     id NVARCHAR(100),\n--     temp_C FLOAT,\n--     temp_min_C FLOAT,\n--     temp_max_C FLOAT,\n--     feels_like_C FLOAT,\n--     temp_min_F FLOAT,\n--     temp_max_F FLOAT,\n--     feels_like_F FLOAT,\n--     lon FLOAT,\n--     lat FLOAT,\n--     weather_id_value INT,\n--     weather_main_value NVARCHAR(100),\n--     weather_description_value NVARCHAR(100),\n--     weather_icon_value NVARCHAR(100),\n--     temp_F FLOAT\n-- )\n-- WITH (\n--     LOCATION = 'gold/processed_weather/processed_weather.parquet', --may be different based on your storage location\n--     DATA_SOURCE = MyDataSource,\n--     FILE_FORMAT = ParquetFileFormat\n-- );\n-- GO\n\n-- CREATE EXTERNAL TABLE ExternalAirPollution (\n--     lon FLOAT,                          -- Longitude\n--     lat FLOAT,                          -- Latitude\n--     aqi INT,                            -- Air Quality Index (integer)\n--     co FLOAT,                           -- Carbon monoxide level\n--     no FLOAT,                           -- Nitric oxide level\n--     no2 FLOAT,                          -- Nitrogen dioxide level\n--     o3 FLOAT,                           -- Ozone level\n--     so2 FLOAT,                          -- Sulfur dioxide level\n--     pm2_5 FLOAT,                        -- Particulate matter 2.5 level\n--     pm10 FLOAT,                         -- Particulate matter 10 level\n--     nh3 FLOAT,                          -- Ammonia level\n--     corrected_timestamp INT,            -- Corrected timestamp (integer)\n--     location NVARCHAR(100),             -- Location as a string\n--     id NVARCHAR(100),                   -- String identifier\n--     date_time DATETIME2,                -- Date and time with timestamp precision\n--     o3_8hr FLOAT,                       -- Ozone level (8-hour average)\n--     o3_1hr FLOAT,                       -- Ozone level (1-hour average)\n--     pm2_5_24hr FLOAT,                   -- PM2.5 level (24-hour average)\n--     pm10_24hr FLOAT,                    -- PM10 level (24-hour average)\n--     co_8hr FLOAT,                       -- CO level (8-hour average)\n--     so2_1hr FLOAT,                      -- SO2 level (1-hour average)\n--     so2_24hr FLOAT,                     -- SO2 level (24-hour average)\n--     no2_1hr FLOAT,                      -- NO2 level (1-hour average)\n--     us_aqi INT                          -- U.S. Air Quality Index (integer)\n-- )\n-- WITH (\n--     LOCATION = 'gold/processed_air_pollution/processed_air_pollution.parquet',\n--     DATA_SOURCE = MyDataSource,\n--     FILE_FORMAT = ParquetFileFormat\n-- );\n-- GO\n\n-- CREATE EXTERNAL TABLE ExternalAggWeatherConditions (\n-- \tdate DATE,\n--     weather_main_value VARCHAR(100),\n--     count INT\n-- )\n-- WITH (\n--     LOCATION = 'gold/agg_weather_conditions/agg_weather_conditions.parquet',\n--     DATA_SOURCE = MyDataSource,\n--     FILE_FORMAT = ParquetFileFormat\n-- );\n-- GO\n\n-- CREATE EXTERNAL TABLE ExternalAggTempExtremes (\n--     date Date,\n--     max_temp_F FLOAT,\n--     min_temp_F FLOAT\n-- )\n-- WITH (\n--     LOCATION = 'gold/agg_temp_extremes/agg_temp_extremes.parquet',\n--     DATA_SOURCE = MyDataSource,\n--     FILE_FORMAT = ParquetFileFormat\n-- );\n-- GO\n\n-- CREATE EXTERNAL TABLE ExternalAggAQI (\n-- \tdate Date,\n--     avg_us_aqi FLOAT\n-- )\n-- WITH (\n--     LOCATION = 'gold/agg_aqi/agg_aqi.parquet',\n--     DATA_SOURCE = MyDataSource,\n--     FILE_FORMAT = ParquetFileFormat\n-- );\n-- GO\n\nCREATE EXTERNAL TABLE ExternalHighPollutionEvents (\n    date Date,\n    high_pollutant_events INT\n)\nWITH (\n    LOCATION = 'gold/agg_high_pollution_events/agg_high_pollution_events.parquet',\n    DATA_SOURCE = MyDataSource,\n    FILE_FORMAT = ParquetFileFormat\n);\nGO\n\nCREATE EXTERNAL TABLE ExternalAggWeather (\n    date Date,\n    avg_temp_F FLOAT,\n    avg_humidity FLOAT,\n    max_temp_F FLOAT,\n    min_temp_F FLOAT,\n    weather_records INT\n)\nWITH (\n    LOCATION = 'gold/agg_weather/agg_weather.parquet',\n    DATA_SOURCE = MyDataSource,\n    FILE_FORMAT = ParquetFileFormat\n);\nGO\n\nCREATE EXTERNAL TABLE ExternalAggPollutants (\n    date Date,\n    avg_co FLOAT,\n    avg_no2 FLOAT,\n    avg_o3 FLOAT,\n    avg_so2 FLOAT,\n    avg_pm2_5 FLOAT,\n    avg_pm10 FLOAT\n)\nWITH (\n    LOCATION = 'gold/agg_pollutants/agg_pollutants.parquet',\n    DATA_SOURCE = MyDataSource,\n    FILE_FORMAT = ParquetFileFormat\n);\nGO\n\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "ds598sqlpool",
				"poolName": "ds598sqlpool"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}